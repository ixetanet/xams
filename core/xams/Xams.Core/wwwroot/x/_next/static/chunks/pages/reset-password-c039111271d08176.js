(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[537],{219:(e,t,s)=>{"use strict";s.d(t,{B:()=>m});var r=s(6514);s(5834);var i=s(7715),n=s(1107),a=s(6695),o=s(5061),l=s(9050),d=s(5515),c={root:"m_6d731127"};let u={gap:"md",align:"stretch",justify:"flex-start"},h=(0,n.V)((e,{gap:t,align:s,justify:r})=>({root:{"--stack-gap":(0,i.GY)(t),"--stack-align":s,"--stack-justify":r}})),m=(0,d.P9)((e,t)=>{let s=(0,a.Y)("Stack",u,e),{classNames:i,className:n,style:d,styles:m,unstyled:p,vars:w,align:f,justify:g,gap:v,variant:C,attributes:x,...y}=s,j=(0,o.I)({name:"Stack",props:s,classes:c,className:n,style:d,classNames:i,styles:m,unstyled:p,attributes:x,vars:w,varsResolver:h});return(0,r.jsx)(l.a,{ref:t,...j("root"),variant:C,...y})});m.classes=c,m.displayName="@mantine/core/Stack"},1627:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});var r=s(6514),i=s(6444),n=s(5261),a=s(8150),o=s(9967),l=s(5304),d=s(5834),c=s(3142),u=s(722),h=s(1413),m=s(6225),p=s(6864),w=s(219),f=s(8801),g=s(3576),v=s(6209),C=s(8108);let x=e=>{let{oobCode:t}=e,{auth:s,loadingStates:i,setLoadingStates:n,router:l}=(0,C.K)(),[c,u]=(0,d.useState)(!0),[h,m]=(0,d.useState)(!1);(0,d.useEffect)(()=>{s.setResetOobCode(t),(async()=>{u(!0),await s.verifyPasswordResetCode(t),u(!1)})()},[t]);let p=async e=>{if(e.preventDefault(),s.resetNewPassword!==s.resetConfirmPassword)return void s.setError("Passwords do not match.");if(s.resetNewPassword.length<6)return void s.setError("Password must be at least 6 characters long.");n(e=>({...e,resetPassword:!0}));try{await s.confirmPasswordReset(t,s.resetNewPassword)&&(m(!0),setTimeout(()=>{l.push("/login")},3e3))}finally{n(e=>({...e,resetPassword:!1}))}};return h?(0,r.jsxs)(w.B,{gap:"lg",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(f.h,{order:2,ta:"center",mb:"xs",children:"Password Reset Successful!"}),(0,r.jsx)(g.E,{size:"sm",ta:"center",c:"dimmed",children:"Your password has been successfully reset. You can now sign in with your new password."})]}),(0,r.jsx)(a.F,{color:"green",variant:"light",children:"Redirecting to login page..."})]}):(0,r.jsxs)(w.B,{gap:"lg",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(f.h,{order:2,ta:"center",mb:"xs",children:"Reset your password"}),(0,r.jsxs)(g.E,{size:"sm",ta:"center",c:"dimmed",children:[c&&"Verifying reset link...",!c&&s.resetEmailFromCode&&(0,r.jsxs)(r.Fragment,{children:["Resetting password for ",(0,r.jsx)("strong",{children:s.resetEmailFromCode})]}),!c&&!s.resetEmailFromCode&&"Enter your new password below."]})]}),s.error&&(0,r.jsx)(a.F,{color:"red",variant:"light",children:s.error}),(0,r.jsxs)("form",{onSubmit:p,children:[(0,r.jsxs)(w.B,{gap:"md",children:[(0,r.jsx)(v.y,{label:"New Password",placeholder:"Enter your new password",value:s.resetNewPassword,onChange:e=>s.setResetNewPassword(e.currentTarget.value),size:"md",disabled:i.resetPassword,required:!0,autoFocus:!0}),(0,r.jsx)(v.y,{label:"Confirm New Password",placeholder:"Re-enter your new password",value:s.resetConfirmPassword,onChange:e=>s.setResetConfirmPassword(e.currentTarget.value),size:"md",disabled:i.resetPassword,required:!0})]}),(0,r.jsx)(o.$,{type:"submit",size:"md",mt:"md",fullWidth:!0,loading:i.resetPassword||c,disabled:c,children:"Reset Password"})]}),(0,r.jsxs)(g.E,{size:"sm",ta:"center",children:["Remember your password?"," ",(0,r.jsx)(g.E,{component:"a",c:"blue",style:{cursor:"pointer"},onClick:()=>l.push("/login"),children:"Back to sign in"})]})]})},y=()=>{let e=(0,m.useRouter)(),{oobCode:t}=e.query,s=(0,c.A)(),d=(0,l.I)({queryKey:["auth-settings"],queryFn:async()=>{let e=await fetch("".concat("").concat(i.i3,"?name=firebase"));return e.ok?e.json():null}});return!d.isLoading&&e.isReady&&s.isReady?d.data?t?(0,r.jsx)(C.h,{providers:d.data.providers,auth:s,smsEnrollmentEnabled:d.data.enableSmsMfa,redirectUrl:d.data.redirectUrl,children:(0,r.jsx)(p.A,{children:(0,r.jsx)(x,{oobCode:t})})}):(0,r.jsxs)(p.A,{children:[(0,r.jsx)(a.F,{color:"red",variant:"light",children:"Invalid password reset link. No reset code provided."}),(0,r.jsx)(o.$,{onClick:()=>e.push("/login"),fullWidth:!0,mt:"md",children:"Return to Login"})]}):(0,r.jsx)(p.A,{children:(0,r.jsx)(a.F,{color:"red",variant:"light",children:"Error loading auth settings"})}):(0,r.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:(0,r.jsx)(n.a,{})})},j=()=>{let e=(0,l.I)({queryKey:["auth-settings"],queryFn:async()=>{let e=await fetch("".concat("").concat(i.i3,"?name=firebase"));return e.ok?e.json():null}});return e.isLoading||(e.data&&0!==Object.keys(e.data).length&&null===h.firebaseApp&&(0,h.initializeFirebase)(e.data),null==h.firebaseAuthConfig)?(0,r.jsx)(p.A,{children:(0,r.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:(0,r.jsx)(n.a,{})})}):(0,r.jsx)(u.OJ,{authConfig:h.firebaseAuthConfig,children:(0,r.jsx)(y,{})})}},6209:(e,t,s)=>{"use strict";s.d(t,{y:()=>x});var r=s(6514),i=s(3367),n=s(7291),a=s(1798);s(5834);var o=s(7715),l=s(1107),d=s(1973),c=s(5061),u=s(6695),h=s(3070),m=s(5515),p=s(6508),w=s(1526),f=s(8566),g={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};let v={visibilityToggleIcon:({reveal:e})=>(0,r.jsx)("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:(0,r.jsx)("path",{d:e?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})},C=(0,l.V)((e,{size:t})=>({root:{"--psi-icon-size":(0,o.YC)(t,"psi-icon-size"),"--psi-button-size":(0,o.YC)(t,"psi-button-size")}})),x=(0,m.P9)((e,t)=>{let s=(0,u.Y)("PasswordInput",v,e),{classNames:o,className:l,style:m,styles:f,unstyled:x,vars:y,required:j,error:b,leftSection:P,disabled:E,id:_,variant:z,inputContainer:N,description:k,label:R,size:S,errorProps:I,descriptionProps:$,labelProps:T,withAsterisk:F,inputWrapperOrder:A,wrapperProps:M,radius:D,rightSection:L,rightSectionWidth:Y,rightSectionPointerEvents:q,leftSectionWidth:B,visible:W,defaultVisible:Z,onVisibilityChange:O,visibilityToggleIcon:V,visibilityToggleButtonProps:K,rightSectionProps:H,leftSectionProps:U,leftSectionPointerEvents:X,withErrorStyles:G,mod:J,attributes:Q,...ee}=s,et=(0,n.B)(_),[es,er]=(0,a.Z)({value:W,defaultValue:Z,finalValue:!1,onChange:O}),ei=()=>er(!es),en=(0,c.I)({name:"PasswordInput",classes:g,props:s,className:l,style:m,classNames:o,styles:f,unstyled:x,attributes:Q,vars:y,varsResolver:C}),{resolvedClassNames:ea,resolvedStyles:eo}=(0,d.Y)({classNames:o,styles:f,props:s}),{styleProps:el,rest:ed}=(0,h.j)(ee),ec=I?.id||`${et}-error`,eu=$?.id||`${et}-description`,eh=!!b&&"boolean"!=typeof b,em=!!k,ep=`${eh?ec:""} ${em?eu:""}`,ew=ep.trim().length>0?ep.trim():void 0,ef=(0,r.jsx)(p.M,{...en("visibilityToggle"),disabled:E,radius:D,"aria-hidden":!K,tabIndex:-1,...K,variant:K?.variant??"subtle",color:"gray",unstyled:x,onTouchEnd:e=>{e.preventDefault(),K?.onTouchEnd?.(e),ei()},onMouseDown:e=>{e.preventDefault(),K?.onMouseDown?.(e),ei()},onKeyDown:e=>{K?.onKeyDown?.(e)," "===e.key&&(e.preventDefault(),ei())},children:(0,r.jsx)(V,{reveal:es})});return(0,r.jsx)(w.p.Wrapper,{required:j,id:et,label:R,error:b,description:k,size:S,classNames:ea,styles:eo,__staticSelector:"PasswordInput",unstyled:x,withAsterisk:F,inputWrapperOrder:A,inputContainer:N,variant:z,labelProps:{...T,htmlFor:et},descriptionProps:{...$,id:eu},errorProps:{...I,id:ec},mod:J,attributes:Q,...en("root"),...el,...M,children:(0,r.jsx)(w.p,{component:"div",error:b,leftSection:P,size:S,classNames:{...ea,input:(0,i.A)(g.input,ea.input)},styles:eo,radius:D,disabled:E,__staticSelector:"PasswordInput",rightSectionWidth:Y,rightSection:L??ef,variant:z,unstyled:x,leftSectionWidth:B,rightSectionPointerEvents:q||"all",rightSectionProps:H,leftSectionProps:U,leftSectionPointerEvents:X,withAria:!1,withErrorStyles:G,attributes:Q,children:(0,r.jsx)("input",{required:j,"data-invalid":!!b||void 0,"data-with-left-section":!!P||void 0,...en("innerInput"),disabled:E,id:et,ref:t,...ed,"aria-describedby":ew,autoComplete:ed.autoComplete||"off",type:es?"text":"password"})})})});x.classes={...f.O.classes,...g},x.displayName="@mantine/core/PasswordInput"},8801:(e,t,s)=>{"use strict";s.d(t,{h:()=>w});var r=s(6514);s(5834);var i=s(1107),n=s(6695),a=s(5061),o=s(9050),l=s(5515),d=s(4850);let c=["h1","h2","h3","h4","h5","h6"],u=["xs","sm","md","lg","xl"];var h={root:"m_8a5d1357"};let m={order:1},p=(0,i.V)((e,{order:t,size:s,lineClamp:r,textWrap:i})=>{let n=function(e,t){let s=void 0!==t?t:`h${e}`;return c.includes(s)?{fontSize:`var(--mantine-${s}-font-size)`,fontWeight:`var(--mantine-${s}-font-weight)`,lineHeight:`var(--mantine-${s}-line-height)`}:u.includes(s)?{fontSize:`var(--mantine-font-size-${s})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:(0,d.D)(s),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}(t||1,s);return{root:{"--title-fw":n.fontWeight,"--title-lh":n.lineHeight,"--title-fz":n.fontSize,"--title-line-clamp":"number"==typeof r?r.toString():void 0,"--title-text-wrap":i}}}),w=(0,l.P9)((e,t)=>{let s=(0,n.Y)("Title",m,e),{classNames:i,className:l,style:d,styles:c,unstyled:u,order:w,vars:f,size:g,variant:v,lineClamp:C,textWrap:x,mod:y,attributes:j,...b}=s,P=(0,a.I)({name:"Title",props:s,classes:h,className:l,style:d,classNames:i,styles:c,unstyled:u,attributes:j,vars:f,varsResolver:p});return[1,2,3,4,5,6].includes(w)?(0,r.jsx)(o.a,{...P("root"),component:`h${w}`,variant:v,ref:t,mod:[{order:w,"data-line-clamp":"number"==typeof C},y],size:g,...b}):null});w.classes=h,w.displayName="@mantine/core/Title"},9196:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/reset-password",function(){return s(1627)}])}},e=>{e.O(0,[864,964,17,255,593,792],()=>e(e.s=9196)),_N_E=e.O()}]);