(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{219:(e,t,i)=>{"use strict";i.d(t,{B:()=>m});var a=i(6514);i(5834);var r=i(7715),s=i(1107),n=i(6695),l=i(5061),c=i(9050),o=i(5515),d={root:"m_6d731127"};let u={gap:"md",align:"stretch",justify:"flex-start"},h=(0,s.V)((e,{gap:t,align:i,justify:a})=>({root:{"--stack-gap":(0,r.GY)(t),"--stack-align":i,"--stack-justify":a}})),m=(0,o.P9)((e,t)=>{let i=(0,n.Y)("Stack",u,e),{classNames:r,className:s,style:o,styles:m,unstyled:f,vars:g,align:x,justify:v,gap:w,variant:p,attributes:y,...j}=i,b=(0,l.I)({name:"Stack",props:i,classes:d,className:s,style:o,classNames:r,styles:m,unstyled:f,attributes:y,vars:g,varsResolver:h});return(0,a.jsx)(c.a,{ref:t,...b("root"),variant:p,...j})});m.classes=d,m.displayName="@mantine/core/Stack"},718:(e,t,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/__/auth/action",function(){return i(3895)}])},3895:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>v});var a=i(6514),r=i(5834),s=i(6225),n=i(219),l=i(5261),c=i(3576),o=i(8150),d=i(9967),u=i(8801),h=i(4200),m=i(1413),f=i(5304),g=i(6444),x=i(6864);let v=()=>{let e=(0,s.useRouter)(),[t,i]=(0,r.useState)("loading"),[v,w]=(0,r.useState)(""),[p,y]=(0,r.useState)(null),j=(0,f.I)({queryKey:["auth-settings"],queryFn:async()=>{let e=await fetch("".concat("").concat(g.i3,"?name=firebase"));return e.ok?e.json():null}});return((0,r.useEffect)(()=>{j.data&&0!==Object.keys(j.data).length&&null===m.firebaseAuth&&(0,m.initializeFirebase)(j.data)},[j.data]),(0,r.useEffect)(()=>{(async()=>{if(!e.isReady||!m.firebaseAuth)return;let{mode:t,oobCode:a,continueUrl:r}=e.query;if(!t||!a){i("error"),w("Invalid verification link. Please try again.");return}y(t);try{switch(t){case"verifyEmail":await (0,h.sv)(m.firebaseAuth,a),i("success"),setTimeout(()=>{r?window.location.href=r:e.push("/login")},3e3);break;case"resetPassword":e.push("/reset-password?oobCode=".concat(a));break;case"recoverEmail":await (0,h.sv)(m.firebaseAuth,a),i("success"),setTimeout(()=>{e.push("/login")},3e3);break;default:i("error"),w("Unsupported action type.")}}catch(e){i("error"),"auth/invalid-action-code"===e.code?w("This link has expired or has already been used."):"auth/user-disabled"===e.code?w("This account has been disabled."):"auth/user-not-found"===e.code?w("No account found with this email."):w(e.message||"An error occurred. Please try again.")}})()},[e.isReady,e.query,m.firebaseAuth]),j.isLoading)?(0,a.jsx)(x.A,{children:(0,a.jsxs)(n.B,{align:"center",gap:"lg",children:[(0,a.jsx)(l.a,{size:"lg"}),(0,a.jsx)(c.E,{size:"sm",c:"dimmed",children:"Loading..."})]})}):j.data?(0,a.jsx)(x.A,{children:(0,a.jsxs)(n.B,{gap:"lg",align:"center",children:["loading"===t&&(0,a.jsx)(l.a,{size:"lg"}),(0,a.jsxs)("div",{style:{textAlign:"center"},children:[(0,a.jsx)(u.h,{order:3,mb:"xs",children:(()=>{if("loading"===t)return"Processing...";if("error"===t)return"Verification Failed";switch(p){case"verifyEmail":return"Email Verified!";case"recoverEmail":return"Email Recovered!";default:return"Success!"}})()}),(0,a.jsx)(c.E,{size:"sm",c:"error"===t?"red":"dimmed",children:(()=>{if("loading"===t)return"Please wait while we verify your email address...";if("error"===t)return v;switch(p){case"verifyEmail":return"Your email has been successfully verified. You can now sign in to your account. Redirecting...";case"recoverEmail":return"Your email has been successfully recovered. Redirecting...";default:return"Action completed successfully. Redirecting..."}})()})]}),"error"===t&&(0,a.jsx)(d.$,{onClick:()=>e.push("/login"),fullWidth:!0,children:"Return to Login"}),"success"===t&&(0,a.jsx)(c.E,{size:"xs",c:"dimmed",children:"You will be redirected in a few seconds..."})]})}):(0,a.jsx)(x.A,{children:(0,a.jsxs)(n.B,{gap:"lg",children:[(0,a.jsx)(o.F,{color:"red",variant:"light",children:"Error loading authentication settings."}),(0,a.jsx)(d.$,{onClick:()=>e.push("/login"),fullWidth:!0,children:"Return to Login"})]})})}},6444:(e,t,i)=>{"use strict";i.d(t,{I7:()=>c,Lx:()=>n,N$:()=>m,Q3:()=>a,UK:()=>o,V8:()=>l,Wf:()=>d,i3:()=>f,nm:()=>h,qK:()=>s,rG:()=>r,vh:()=>u});let a="/xams/WhoAmI",r="/xams/Permissions",s="/xams/MetaData",n="/xams/Create",l="/xams/Read",c="/xams/Update",o="/xams/Delete",d="/xams/Upsert",u="/xams/Bulk",h="/xams/Action",m="/xams/File",f="/xams/Config"},6864:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var a=i(6514);i(5834);var r=i(1054);let s=e=>{let{children:t,maxWidth:i="sm"}=e;return(0,a.jsx)("div",{className:"min-h-screen flex justify-center items-center p-4",children:(0,a.jsx)(r.t,{shadow:"sm",radius:"lg",p:"xl",withBorder:!0,className:"w-full ".concat("md"===i?"max-w-md":"max-w-sm"),children:t})})}},8801:(e,t,i)=>{"use strict";i.d(t,{h:()=>g});var a=i(6514);i(5834);var r=i(1107),s=i(6695),n=i(5061),l=i(9050),c=i(5515),o=i(4850);let d=["h1","h2","h3","h4","h5","h6"],u=["xs","sm","md","lg","xl"];var h={root:"m_8a5d1357"};let m={order:1},f=(0,r.V)((e,{order:t,size:i,lineClamp:a,textWrap:r})=>{let s=function(e,t){let i=void 0!==t?t:`h${e}`;return d.includes(i)?{fontSize:`var(--mantine-${i}-font-size)`,fontWeight:`var(--mantine-${i}-font-weight)`,lineHeight:`var(--mantine-${i}-line-height)`}:u.includes(i)?{fontSize:`var(--mantine-font-size-${i})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:(0,o.D)(i),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}(t||1,i);return{root:{"--title-fw":s.fontWeight,"--title-lh":s.lineHeight,"--title-fz":s.fontSize,"--title-line-clamp":"number"==typeof a?a.toString():void 0,"--title-text-wrap":r}}}),g=(0,c.P9)((e,t)=>{let i=(0,s.Y)("Title",m,e),{classNames:r,className:c,style:o,styles:d,unstyled:u,order:g,vars:x,size:v,variant:w,lineClamp:p,textWrap:y,mod:j,attributes:b,...k}=i,E=(0,n.I)({name:"Title",props:i,classes:h,className:c,style:o,classNames:r,styles:d,unstyled:u,attributes:b,vars:x,varsResolver:f});return[1,2,3,4,5,6].includes(g)?(0,a.jsx)(l.a,{...E("root"),component:`h${g}`,variant:w,ref:t,mod:[{order:g,"data-line-clamp":"number"==typeof p},j],size:v,...k}):null});g.classes=h,g.displayName="@mantine/core/Title"}},e=>{e.O(0,[864,255,593,792],()=>e(e.s=718)),_N_E=e.O()}]);