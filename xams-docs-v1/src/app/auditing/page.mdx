import auditAdmin from '@/images/audit_admin.png'
import auditConfig from '@/images/audit_config.png'
import auditHistory from '@/images/audit_history.png'
import auditHistoryDetails from '@/images/audit_history_details.png'
import auditFieldHistory from '@/images/audit_field_history.png'
export const metadata = {
  title: 'Auditing',
  description: 'Xams Entity Auditing',
}

# Auditing

Xams provides comprehensive auditing capabilities for every record saved through the XamsDbContext. Track changes across your entities with granular control over which operations and fields to monitor. {{ className: 'lead' }}

## Configuration

To enable auditing for an entity, navigate to the `Auditing` section in the Admin dashboard.

Select the `Config` tab and choose the entity you want to audit.

<DocImage image={auditAdmin} full={true} />

From the configuration screen, you can specify which operations to audit: `create`, `update`, `delete`, or `read`.

For `create`, `update`, and `delete` operations, you can select specific fields to track.

<DocImage image={auditConfig} full={true} />

## Audit History

The `History` tab displays all audit records organized by data operation and table.

<DocImage image={auditHistory} full={true} />

Selecting an Audit History record reveals a detailed view of all fields modified during that operation.

<DocImage image={auditHistoryDetails} full={true} />

## Field History

The `Field History` tab presents audit records filtered by data operation, table name, and field name for granular tracking.

<DocImage image={auditFieldHistory} full={true} />

## Database Schema

The auditing system uses four primary entities:

- **Audit**: Defines which tables and operations to audit
- **AuditField**: Specifies which fields to track for each audited entity
- **AuditHistory**: Records when a record is created, updated, deleted, or read
- **AuditHistoryDetail**: Stores field-level changes including old and new values

